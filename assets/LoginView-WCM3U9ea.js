import{a as d}from"./axios-G2rPRu76.js";import{_ as c,r as m,c as u,a as s,w as i,v as l,o as p}from"./index-xY0d-O7O.js";var _={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"moreene",BASE_URL:"/Vue-week7-homework/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:f}=_,h={data(){return{username:"",password:""}},methods:{login(){if(!this.username||!this.password){alert("請輸入信箱或密碼!");return}else d.post(`${f}/admin/signin`,{username:this.username,password:this.password}).then(t=>{const{token:e,expired:n}=t.data;document.cookie=`myToken=${e}; expires=${new Date(n)};`,this.username="",this.password="",m.push("/admin")}).catch(t=>{this.$swal({icon:"error",title:t.response.data.message,showConfirmButton:!0})})}}},w={class:"container vh-100 text-center"},v={class:"d-flex flex-column justify-content-center h-100"},x={class:"row"},g=s("h1",{class:"h3 mb-3"}," 請先登入 ",-1),b={class:"col"},V={id:"form",class:"form-signin w-100"},k={class:"form-floating mb-3"},E=s("label",{for:"email"},"信箱",-1),y={class:"form-floating"},T=s("label",{for:"password"},"密碼",-1);function B(t,e,n,D,r,a){return p(),u("div",w,[s("div",v,[s("div",x,[g,s("div",b,[s("form",V,[s("div",k,[i(s("input",{type:"email",class:"form-control",id:"email",placeholder:"Email",required:"",autofocus:"","onUpdate:modelValue":e[0]||(e[0]=o=>r.username=o)},null,512),[[l,r.username]]),E]),s("div",y,[i(s("input",{type:"password",class:"form-control",id:"password",placeholder:"Password",required:"","onUpdate:modelValue":e[1]||(e[1]=o=>r.password=o)},null,512),[[l,r.password]]),T]),s("button",{class:"btn btn-lg btn-primary w-100 mt-5",type:"button",onClick:e[2]||(e[2]=(...o)=>a.login&&a.login(...o))}," 登入 ")])])])])])}const L=c(h,[["render",B]]);export{L as default};
